<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}" data-skin="{{ site.minima.skin }}">

  {%- include head.html -%}

  <body>

    {%- include header.html -%}

    <!-- Theme Switcher Section -->
    <div class="theme-switcher">
      <label for="theme-switcher">Select Theme:</label>
      <select id="theme-switcher" onchange="switchSkin()">
        <option value="dark">Dark (default)</option>
        <option value="classic">Light</option>
      </select>
    </div>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    {%- include footer.html -%}

    <!-- JavaScript to Handle Theme Switching -->
    <script>
      // Function to apply the skin
      function applySkin(skin) {
        // Set the selected skin as a data-skin attribute on the html element
        document.documentElement.setAttribute('data-skin', skin);
        // Save the skin preference to localStorage
        localStorage.setItem('skin', skin);
      }

      // Function to handle theme switcher dropdown
      function switchSkin() {
        const selectedSkin = document.getElementById('theme-switcher').value;
        applySkin(selectedSkin);
      }

      // On page load, check if a skin is stored in localStorage
      window.onload = function() {
        const savedSkin = localStorage.getItem('skin') || 'dark';  // Default to dark
        applySkin(savedSkin);  // Apply the saved skin
        document.getElementById('theme-switcher').value = savedSkin;  // Set dropdown to the saved skin
      }
    </script>

  </body>

</html>
